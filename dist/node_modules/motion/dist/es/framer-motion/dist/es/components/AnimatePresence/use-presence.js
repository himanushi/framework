import { useContext as f, useId as l, useEffect as c, useCallback as i } from "react";
import { PresenceContext as m } from "../../context/PresenceContext.js";
function p(e = !0) {
  const o = f(m);
  if (o === null)
    return [!0, null];
  const { isPresent: r, onExitComplete: t, register: s } = o, n = l();
  c(() => {
    e && s(n);
  }, [e]);
  const u = i(() => e && t && t(n), [n, t, e]);
  return !r && t ? [!1, u] : [!0];
}
export {
  p as usePresence
};
