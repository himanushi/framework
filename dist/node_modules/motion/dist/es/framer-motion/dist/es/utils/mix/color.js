import { mixNumber as p } from "./number.js";
import { warning as f } from "../../../../../motion-utils/dist/es/errors.js";
import { hslaToRgba as c } from "../hsla-to-rgba.js";
import { hex as u } from "../../value/types/color/hex.js";
import { rgba as s } from "../../value/types/color/rgba.js";
import { hsla as l } from "../../value/types/color/hsla.js";
import { mixImmediate as d } from "./immediate.js";
const m = (o, e, r) => {
  const t = o * o, n = r * (e * e - t) + t;
  return n < 0 ? 0 : Math.sqrt(n);
}, b = [u, s, l], h = (o) => b.find((e) => e.test(o));
function i(o) {
  const e = h(o);
  if (f(!!e, `'${o}' is not an animatable color. Use the equivalent color code instead.`), !e)
    return !1;
  let r = e.parse(o);
  return e === l && (r = c(r)), r;
}
const G = (o, e) => {
  const r = i(o), t = i(e);
  if (!r || !t)
    return d(o, e);
  const n = { ...r };
  return (a) => (n.red = m(r.red, t.red, a), n.green = m(r.green, t.green, a), n.blue = m(r.blue, t.blue, a), n.alpha = p(r.alpha, t.alpha, a), s.transform(n));
};
export {
  G as mixColor,
  m as mixLinearColor
};
